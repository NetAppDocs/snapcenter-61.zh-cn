---
permalink: protect-scsql/reference_storage_layout_recommendations_for_snapcenter_plug_in_for_microsoft_sql_server.html 
sidebar: sidebar 
keywords: Storage layout 
summary: 精心设计的存储布局允许SnapCenter Server 备份您的数据库以满足您的恢复目标。在定义存储布局时，您应该考虑几个因素，包括数据库的大小、数据库的变化率以及执行备份的频率。 
---
= 适用于 Microsoft SQL Server 的SnapCenter插件的存储布局建议
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
精心设计的存储布局允许SnapCenter Server 备份您的数据库以满足您的恢复目标。在定义存储布局时，您应该考虑几个因素，包括数据库的大小、数据库的变化率以及执行备份的频率。

以下部分定义了在您的环境中安装了适用于 Microsoft SQL Server 的SnapCenter插件的 LUN 和虚拟机磁盘 (VMDK) 的存储布局建议和限制。

在这种情况下，LUN 可以包括映射到来宾的 VMware RDM 磁盘和 iSCSI 直连 LUN。



== LUN 和 VMDK 要求

您可以选择使用专用 LUN 或 VMDK 来实现以下数据库的最佳性能和管理：

* 主系统数据库和模型系统数据库
* 临时数据库
* 用户数据库文件（.mdf 和 .ndf）
* 用户数据库事务日志文件（.ldf）
* 日志目录


要恢复大型数据库，最佳做法是使用专用 LUN 或 VMDK。恢复完整的 LUN 或 VMDK 所需的时间少于恢复存储在 LUN 或 VMDK 中的单个文件所需的时间。

对于日志目录，您应该创建一个单独的 LUN 或 VMDK，以便数据或日志文件磁盘中有足够的可用空间。



== LUN 和 VMDK 示例布局

下图显示了如何在 LUN 上配置大型数据库的存储布局：

image::../media/smsql_storage_layout_mult_vols_snapcenter.gif[多个 LUN 图表]

下图显示了如何在 LUN 上配置中型或小型数据库的存储布局：

image::../media/smsql_storage_layout_mult_dbs_luns_snapcenter.gif[每个 LUN 多个数据库图表]

下图显示了如何在 VMDK 上配置大型数据库的存储布局：

image::../media/smsql_storage_layout_large_dbs_vmdk.gif[VMDK 上大型数据库的存储布局]

下图显示了如何在 VMDK 上配置中型或小型数据库的存储布局：

image::../media/smsql_storage_layout_med_small_dbs_vmdk.gif[VMDK 上中型或小型数据库的存储布局]
