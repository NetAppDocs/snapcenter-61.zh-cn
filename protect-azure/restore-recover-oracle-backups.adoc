---
permalink: protect-azure/restore-recover-oracle-backups.html 
sidebar: sidebar 
keywords: SnapCenter Plug-in for Oracle Database, restore, recover, tablespaces, pluggable databases, point-in-time 
summary: 您可以使用SnapCenter从一个或多个备份中还原和恢复数据。 
---
= 还原和恢复 Oracle 数据库
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
如果发生数据丢失，您可以使用SnapCenter将数据从一个或多个备份还原到活动文件系统，然后恢复数据库。

.步骤
. 在左侧导航窗格中，单击“*资源*”，然后从列表中选择适当的插件。
. 在资源页面中，从视图列表中选择*数据库*或*资源组*。
. 从列表中选择数据库或资源组。
. 从“管理副本”视图中，从主存储系统中选择“*备份*”。
. 从表中选择备份，然后单击*image:../media/restore_icon.gif["恢复图标"] *.
. 在“还原范围”页面中，执行以下任务：
+
.. 如果您已选择 RAC 环境中数据库的备份，请选择 RAC。
.. 执行以下操作：
+
... 如果您只想恢复数据库文件，请选择“*所有数据文件*”。
... 如果您只想恢复表空间，请选择“*表空间*”。
... 如果要恢复 Data Guard 备用数据库或 Active Data Guard 备用数据库的重做日志文件，请选择“*重做日志文件*”。
... 选择*可插拔数据库*并指定要恢复的 PDB。
... 选择*可插入数据库 (PDB) 表空间*，然后指定要恢复的 PDB 和该 PDB 的表空间。
... 如果要将数据库还原到创建备份的同一 SQL 服务器，请选择“将数据库还原到创建备份的同一主机”。
... 如果您希望将数据库还原到与备份相同的或不同的主机中的不同 SQL 服务器，请选择“将数据库还原到备用主机”。
... 选择*如果需要还原和恢复则更改数据库状态*将数据库的状态更改为执行还原和恢复操作所需的状态。
... 如果要在备份后添加新数据文件或在 LVM 磁盘组中添加、删除或重新创建 LUN 的情况下执行就地还原，请选择“强制就地还原”。




. 在“恢复范围”页面中，选择以下选项之一：
+
.. 如果您想恢复到最后一个事务，请选择“*所有日志*”。
.. 如果要恢复到特定的 SCN，请选择*直到 SCN（系统更改号）*。
.. 如果要恢复到特定的日期和时间，请选择*日期和时间*。
.. 如果您不想恢复，请选择*不恢复*。
.. 如果要指定外部存档日志文件的位置，请选择*指定外部存档日志位置*。


. 在“操作前”和“操作后”页面中，指定所需的详细信息。
. 在通知页面中，从*电子邮件首选项*下拉列表中，选择您想要发送电子邮件的场景。
. 查看摘要，然后单击“*完成*”。
. 通过单击“*监视*”>“*作业*”来监视操作进度。




== 使用时间点恢复来还原和恢复表空间

您可以恢复已损坏或删除的表空间的子集，而不会影响数据库中的其他表空间。  SnapCenter使用 RMAN 执行表空间的时间点恢复 (PITR)。

.步骤
. 在左侧导航窗格中，单击“*资源*”，然后从列表中选择适当的插件。
. 在资源页面中，从视图列表中选择*数据库*或*资源组*。
. 选择单实例（多租户）类型的数据库。
. 从管理副本视图中，从存储系统中选择*备份*。
+
如果备份未编入目录，您应该选择该备份并单击*目录*。

. 选择已编目的备份，然后单击 *image:../media/restore_icon.gif["恢复图标"] *.
. 在“还原范围”页面中，执行以下任务：
+
.. 如果您已选择 RAC 环境中数据库的备份，请选择 *RAC*。
.. 如果您只想恢复表空间，请选择“*表空间*”。
.. 选择*如果需要还原和恢复则更改数据库状态*将数据库的状态更改为执行还原和恢复操作所需的状态。


. 在“恢复范围”页面中，选择以下选项之一：
+
.. 如果要恢复到特定的 SCN，请选择*直到 SCN（系统更改号）*。
.. 如果要恢复到特定的日期和时间，请选择*日期和时间*。


. 在“操作前”和“操作后”页面中，指定所需的详细信息。
. 在通知页面中，从*电子邮件首选项*下拉列表中，选择您想要发送电子邮件的场景。
. 查看摘要，然后单击“*完成*”。
. 使用“*监控*”>“*作业*”页面监控恢复过程。




== 使用时间点恢复来恢复可插拔数据库

您可以还原和恢复已损坏或删除的可插拔数据库 (PDB)，而不会影响容器数据库 (CDB) 中的其他 PDB。  SnapCenter使用 RMAN 执行 PDB 的时间点恢复 (PITR)。

.步骤
. 在左侧导航窗格中，单击“*资源*”，然后从列表中选择适当的插件。
. 在资源页面中，从视图列表中选择*数据库*或*资源组*。
. 选择单实例（多租户）类型的数据库。
. 从管理副本视图中，从存储系统中选择*备份*。
+
如果备份未编入目录，您应该选择该备份并单击*目录*。

. 选择已编目的备份，然后单击 *image:../media/restore_icon.gif["恢复图标"] *.
. 在“还原范围”页面中，执行以下任务：
+
.. 如果您已选择 RAC 环境中数据库的备份，请选择 *RAC*。
.. 根据您是否要恢复 PDB 或 PDB 中的表空间，执行以下操作之一：
+
*** 如果要恢复 PDB，请选择*可插拔数据库 (PDB)*。
*** 如果要在 PDB 中恢复表空间，请选择*可插入数据库 (PDB) 表空间*。




. 在“恢复范围”页面中，选择以下选项之一：
+
.. 如果要恢复到特定的 SCN，请选择*直到 SCN（系统更改号）*。
.. 如果要恢复到特定的日期和时间，请选择*日期和时间*。


. 在“操作前”和“操作后”页面中，指定所需的详细信息。
. 在通知页面中，从*电子邮件首选项*下拉列表中，选择您想要发送电子邮件的场景。
. 查看摘要，然后单击“*完成*”。
. 使用“*监控*”>“*作业*”页面监控恢复过程。

